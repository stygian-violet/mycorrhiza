{{define "search:"}}Search: {{.}}{{end}}
{{define "title"}}{{template "search:" .Query}}{{end}}
{{define "body"}}
<main class="main-width">
	<h1>{{block "search results for" .Query}}Search results for ‘{{.}}’{{end}}</h1>
	{{if .HasResults}}
	{{if len .Results.Hyphae}}
	<ol class="link-list">
		{{range .Results.Hyphae}}
		<li>
			<a class="wikilink" href="{{$.Meta.Root}}hypha/{{.Hypha}}">{{beautifulName .Hypha}}</a>
			{{range .Lines}}
			<blockquote>
				{{- range $index, $part := . -}}
				{{- if mod $index 2 | lt 0 -}}
				<mark>{{- $part -}}</mark>
				{{- else -}}
				{{- $part -}}
				{{- end -}}
				{{- end -}}
			</blockquote>
			{{end}}
		</li>
		{{end}}
	</ol>
	{{else}}
	<p>{{block "search no results" .}}No results{{end}}</p>
	{{end}}
	{{if not .Results.Complete }}
	<p>{{block "search not complete" .}}{{end}}</p>
	{{end}}
	{{else}}
	<p>{{block "search no results" .}}{{end}}</p>
	{{end}}
</main>
{{end}}
